{"remainingRequest":"/Users/douchunliu/Desktop/a/vue-store/node_modules/thread-loader/dist/cjs.js!/Users/douchunliu/Desktop/a/vue-store/node_modules/babel-loader/lib/index.js!/Users/douchunliu/Desktop/a/vue-store/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/douchunliu/Desktop/a/vue-store/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/douchunliu/Desktop/a/vue-store/src/components/MyRegister.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/douchunliu/Desktop/a/vue-store/src/components/MyRegister.vue","mtime":1592484114921},{"path":"/Users/douchunliu/Desktop/a/vue-store/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/douchunliu/Desktop/a/vue-store/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/douchunliu/Desktop/a/vue-store/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/douchunliu/Desktop/a/vue-store/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/douchunliu/Desktop/a/vue-store/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk15UmVnaXN0ZXIiLAogIHByb3BzOiBbInJlZ2lzdGVyIl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgLy8g55So5oi35ZCN55qE5qCh6aqM5pa55rOVCiAgICB2YXIgdmFsaWRhdGVOYW1lID0gZnVuY3Rpb24gdmFsaWRhdGVOYW1lKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl55So5oi35ZCNIikpOwogICAgICB9IC8vIOeUqOaIt+WQjeS7peWtl+avjeW8gOWktCzplb/luqblnKg1LTE25LmL6Ze0LOWFgeiuuOWtl+avjeaVsOWtl+S4i+WIkue6vwoKCiAgICAgIHZhciB1c2VyTmFtZVJ1bGUgPSAvXlthLXpBLVpdW2EtekEtWjAtOV9dezQsMTV9JC87CgogICAgICBpZiAodXNlck5hbWVSdWxlLnRlc3QodmFsdWUpKSB7CiAgICAgICAgLy/liKTmlq3mlbDmja7lupPkuK3mmK/lkKblt7Lnu4/lrZjlnKjor6XnlKjmiLflkI0KICAgICAgICBfdGhpcy4kYXhpb3MucG9zdCgiL2FwaS91c2Vycy9maW5kVXNlck5hbWUiLCB7CiAgICAgICAgICB1c2VyTmFtZTogX3RoaXMuUmVnaXN0ZXJVc2VyLm5hbWUKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIC8vIOKAnDAwMeKAneS7o+ihqOeUqOaIt+WQjeS4jeWtmOWcqO+8jOWPr+S7peazqOWGjAogICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gIjAwMSIpIHsKICAgICAgICAgICAgX3RoaXMuJHJlZnMucnVsZUZvcm0udmFsaWRhdGVGaWVsZCgiY2hlY2tQYXNzIik7CgogICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IocmVzLmRhdGEubXNnKSk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcigi5a2X5q+N5byA5aS0LOmVv+W6pjUtMTbkuYvpl7Qs5YWB6K645a2X5q+N5pWw5a2X5LiL5YiS57q/IikpOwogICAgICB9CiAgICB9OyAvLyDlr4bnoIHnmoTmoKHpqozmlrnms5UKCgogICAgdmFyIHZhbGlkYXRlUGFzcyA9IGZ1bmN0aW9uIHZhbGlkYXRlUGFzcyhydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgaWYgKHZhbHVlID09PSAiIikgewogICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoIuivt+i+k+WFpeWvhueggSIpKTsKICAgICAgfSAvLyDlr4bnoIHku6XlrZfmr43lvIDlpLQs6ZW/5bqm5ZyoNi0xOOS5i+mXtCzlhYHorrjlrZfmr43mlbDlrZflkozkuIvliJLnur8KCgogICAgICB2YXIgcGFzc3dvcmRSdWxlID0gL15bYS16QS1aXVx3ezUsMTd9JC87CgogICAgICBpZiAocGFzc3dvcmRSdWxlLnRlc3QodmFsdWUpKSB7CiAgICAgICAgX3RoaXMuJHJlZnMucnVsZUZvcm0udmFsaWRhdGVGaWVsZCgiY2hlY2tQYXNzIik7CgogICAgICAgIHJldHVybiBjYWxsYmFjaygpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoIuWtl+avjeW8gOWktCzplb/luqY2LTE45LmL6Ze0LOWFgeiuuOWtl+avjeaVsOWtl+WSjOS4i+WIkue6vyIpKTsKICAgICAgfQogICAgfTsgLy8g56Gu6K6k5a+G56CB55qE5qCh6aqM5pa55rOVCgoKICAgIHZhciB2YWxpZGF0ZUNvbmZpcm1QYXNzID0gZnVuY3Rpb24gdmFsaWRhdGVDb25maXJtUGFzcyhydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgaWYgKHZhbHVlID09PSAiIikgewogICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoIuivt+i+k+WFpeehruiupOWvhueggSIpKTsKICAgICAgfSAvLyDmoKHpqozmmK/lkKbku6Xlr4bnoIHkuIDoh7QKCgogICAgICBpZiAoX3RoaXMuUmVnaXN0ZXJVc2VyLnBhc3MgIT0gIiIgJiYgdmFsdWUgPT09IF90aGlzLlJlZ2lzdGVyVXNlci5wYXNzKSB7CiAgICAgICAgX3RoaXMuJHJlZnMucnVsZUZvcm0udmFsaWRhdGVGaWVsZCgiY2hlY2tQYXNzIik7CgogICAgICAgIHJldHVybiBjYWxsYmFjaygpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoIuS4pOasoei+k+WFpeeahOWvhueggeS4jeS4gOiHtCIpKTsKICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gewogICAgICBpc1JlZ2lzdGVyOiBmYWxzZSwKICAgICAgLy8g5o6n5Yi25rOo5YaM57uE5Lu25piv5ZCm5pi+56S6CiAgICAgIFJlZ2lzdGVyVXNlcjogewogICAgICAgIG5hbWU6ICIiLAogICAgICAgIHBhc3M6ICIiLAogICAgICAgIGNvbmZpcm1QYXNzOiAiIgogICAgICB9LAogICAgICAvLyDnlKjmiLfkv6Hmga/moKHpqozop4TliJksdmFsaWRhdG9yKOagoemqjOaWueazlSksdHJpZ2dlcijop6blj5HmlrnlvI8pLGJsdXLkuLrlnKjnu4Tku7YgSW5wdXQg5aSx5Y6754Sm54K55pe26Kem5Y+RCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVOYW1lLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgcGFzczogW3sKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVQYXNzLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgY29uZmlybVBhc3M6IFt7CiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlQ29uZmlybVBhc3MsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIC8vIOebkeWQrOeItue7hOS7tuS8oOi/h+adpeeahHJlZ2lzdGVy5Y+Y6YeP77yM6K6+572udGhpcy5pc1JlZ2lzdGVy55qE5YC8CiAgICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIodmFsKSB7CiAgICAgIGlmICh2YWwpIHsKICAgICAgICB0aGlzLmlzUmVnaXN0ZXIgPSB2YWw7CiAgICAgIH0KICAgIH0sCiAgICAvLyDnm5HlkKx0aGlzLmlzUmVnaXN0ZXLlj5jph4/nmoTlgLzvvIzmm7TmlrDniLbnu4Tku7ZyZWdpc3RlcuWPmOmHj+eahOWAvAogICAgaXNSZWdpc3RlcjogZnVuY3Rpb24gaXNSZWdpc3Rlcih2YWwpIHsKICAgICAgaWYgKCF2YWwpIHsKICAgICAgICB0aGlzLiRyZWZzWyJydWxlRm9ybSJdLnJlc2V0RmllbGRzKCk7CiAgICAgICAgdGhpcy4kZW1pdCgiZnJvbUNoaWxkIiwgdmFsKTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgUmVnaXN0ZXI6IGZ1bmN0aW9uIFJlZ2lzdGVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIC8vIOmAmui/h2VsZW1lbnToh6rlrprkuYnooajljZXmoKHpqozop4TliJnvvIzmoKHpqoznlKjmiLfovpPlhaXnmoTnlKjmiLfkv6Hmga8KICAgICAgdGhpcy4kcmVmc1sicnVsZUZvcm0iXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICAvL+WmguaenOmAmui/h+agoemqjOW8gOWni+azqOWGjAogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgX3RoaXMyLiRheGlvcy5wb3N0KCIvYXBpL3VzZXJzL3JlZ2lzdGVyIiwgewogICAgICAgICAgICB1c2VyTmFtZTogX3RoaXMyLlJlZ2lzdGVyVXNlci5uYW1lLAogICAgICAgICAgICBwYXNzd29yZDogX3RoaXMyLlJlZ2lzdGVyVXNlci5wYXNzCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgLy8g4oCcMDAx4oCd5Luj6KGo5rOo5YaM5oiQ5Yqf77yM5YW25LuW55qE5Z2H5Li65aSx6LSlCiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAiMDAxIikgewogICAgICAgICAgICAgIC8vIOmakOiXj+azqOWGjOe7hOS7tgogICAgICAgICAgICAgIF90aGlzMi5pc1JlZ2lzdGVyID0gZmFsc2U7IC8vIOW8ueWHuumAmuefpeahhuaPkOekuuazqOWGjOaIkOWKn+S/oeaBrwoKICAgICAgICAgICAgICBfdGhpczIubm90aWZ5U3VjY2VlZChyZXMuZGF0YS5tc2cpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vIOW8ueWHuumAmuefpeahhuaPkOekuuazqOWGjOWksei0peS/oeaBrwogICAgICAgICAgICAgIF90aGlzMi5ub3RpZnlFcnJvcihyZXMuZGF0YS5tc2cpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["MyRegister.vue"],"names":[],"mappings":"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","sourcesContent":["<!--\n * @Description: 用户注册组件\n * @Author: hai-27\n * @Date: 2020-02-19 22:20:35\n * @LastEditors: hai-27\n * @LastEditTime: 2020-03-01 15:34:34\n -->\n<template>\n  <div id=\"register\">\n    <el-dialog title=\"注册\" width=\"300px\" center :visible.sync=\"isRegister\">\n      <el-form\n        :model=\"RegisterUser\"\n        :rules=\"rules\"\n        status-icon\n        ref=\"ruleForm\"\n        class=\"demo-ruleForm\"\n      >\n        <el-form-item prop=\"name\">\n          <el-input\n            prefix-icon=\"el-icon-user-solid\"\n            placeholder=\"请输入账号\"\n            v-model=\"RegisterUser.name\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item prop=\"pass\">\n          <el-input\n            prefix-icon=\"el-icon-view\"\n            type=\"password\"\n            placeholder=\"请输入密码\"\n            v-model=\"RegisterUser.pass\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item prop=\"confirmPass\">\n          <el-input\n            prefix-icon=\"el-icon-view\"\n            type=\"password\"\n            placeholder=\"请再次输入密码\"\n            v-model=\"RegisterUser.confirmPass\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button size=\"medium\" type=\"primary\" @click=\"Register\" style=\"width:100%;\">注册</el-button>\n        </el-form-item>\n      </el-form>\n    </el-dialog>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"MyRegister\",\n  props: [\"register\"],\n  data() {\n    // 用户名的校验方法\n    let validateName = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"请输入用户名\"));\n      }\n      // 用户名以字母开头,长度在5-16之间,允许字母数字下划线\n      const userNameRule = /^[a-zA-Z][a-zA-Z0-9_]{4,15}$/;\n      if (userNameRule.test(value)) {\n        //判断数据库中是否已经存在该用户名\n        this.$axios\n          .post(\"/api/users/findUserName\", {\n            userName: this.RegisterUser.name\n          })\n          .then(res => {\n            // “001”代表用户名不存在，可以注册\n            if (res.data.code == \"001\") {\n              this.$refs.ruleForm.validateField(\"checkPass\");\n              return callback();\n            } else {\n              return callback(new Error(res.data.msg));\n            }\n          })\n          .catch(err => {\n            return Promise.reject(err);\n          });\n      } else {\n        return callback(new Error(\"字母开头,长度5-16之间,允许字母数字下划线\"));\n      }\n    };\n    // 密码的校验方法\n    let validatePass = (rule, value, callback) => {\n      if (value === \"\") {\n        return callback(new Error(\"请输入密码\"));\n      }\n      // 密码以字母开头,长度在6-18之间,允许字母数字和下划线\n      const passwordRule = /^[a-zA-Z]\\w{5,17}$/;\n      if (passwordRule.test(value)) {\n        this.$refs.ruleForm.validateField(\"checkPass\");\n        return callback();\n      } else {\n        return callback(\n          new Error(\"字母开头,长度6-18之间,允许字母数字和下划线\")\n        );\n      }\n    };\n    // 确认密码的校验方法\n    let validateConfirmPass = (rule, value, callback) => {\n      if (value === \"\") {\n        return callback(new Error(\"请输入确认密码\"));\n      }\n      // 校验是否以密码一致\n      if (this.RegisterUser.pass != \"\" && value === this.RegisterUser.pass) {\n        this.$refs.ruleForm.validateField(\"checkPass\");\n        return callback();\n      } else {\n        return callback(new Error(\"两次输入的密码不一致\"));\n      }\n    };\n    return {\n      isRegister: false, // 控制注册组件是否显示\n      RegisterUser: {\n        name: \"\",\n        pass: \"\",\n        confirmPass: \"\"\n      },\n      // 用户信息校验规则,validator(校验方法),trigger(触发方式),blur为在组件 Input 失去焦点时触发\n      rules: {\n        name: [{ validator: validateName, trigger: \"blur\" }],\n        pass: [{ validator: validatePass, trigger: \"blur\" }],\n        confirmPass: [{ validator: validateConfirmPass, trigger: \"blur\" }]\n      }\n    };\n  },\n  watch: {\n    // 监听父组件传过来的register变量，设置this.isRegister的值\n    register: function(val) {\n      if (val) {\n        this.isRegister = val;\n      }\n    },\n    // 监听this.isRegister变量的值，更新父组件register变量的值\n    isRegister: function(val) {\n      if (!val) {\n        this.$refs[\"ruleForm\"].resetFields();\n        this.$emit(\"fromChild\", val);\n      }\n    }\n  },\n  methods: {\n    Register() {\n      // 通过element自定义表单校验规则，校验用户输入的用户信息\n      this.$refs[\"ruleForm\"].validate(valid => {\n        //如果通过校验开始注册\n        if (valid) {\n          this.$axios\n            .post(\"/api/users/register\", {\n              userName: this.RegisterUser.name,\n              password: this.RegisterUser.pass\n            })\n            .then(res => {\n              // “001”代表注册成功，其他的均为失败\n              if (res.data.code === \"001\") {\n                // 隐藏注册组件\n                this.isRegister = false;\n                // 弹出通知框提示注册成功信息\n                this.notifySucceed(res.data.msg);\n              } else {\n                // 弹出通知框提示注册失败信息\n                this.notifyError(res.data.msg);\n              }\n            })\n            .catch(err => {\n              return Promise.reject(err);\n            });\n        } else {\n          return false;\n        }\n      });\n    }\n  }\n};\n</script>\n<style>\n</style>"],"sourceRoot":"src/components"}]}